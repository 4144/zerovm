This document describes manifest for ZeroVM NaCl application.
update: a new design
-------------------------------------------------------------


Description:
The manifest is a text file which must be provided in order to run a NaCl application inside ZeroVM. 
Manifest samples can be found in "samples" directory.

list of available keywords:
Channel
Environment
Version
Nexe
NexeMax
NexeEtag
Timeout
MemMax
SyscallsMax
CommandLine
NodeName

Structure:
- each valid line must contain exactly only one key and value(s) separated by exactly one '=' sign
- both key and value may contain spaces
- key and value case does matter: "key" and "KeY" are treated as a different keywords
- spaces around key/value will be ignored
- lines are delimited with EOL (unix or windows style)
- invalid lines will be ignored
- lines with unknown keywords (not mentioned below) will be ignored
- some keywords expects complex values: comma separated values. for example, "Environment"

List of valid keywords:
Channel
  (7 comma separated values)
  Description of a channel. The order does matter. example:
  Channel = /home/dazo/git/zerovm/samples/sort/sort.stdout.log, /dev/stdout, 5, 0, 0, 99999999, 99999999
  where: 
    [1] trusted channel name (n/a for the user), 
    [2] untrusted channel name, 
    [3] access type, 
    [4] gets limit, 
    [5] get size limits, 
    [6] puts limit, 
    [7] put size limits
Environment
  (comma separated values)
  expects comma separated pairs: key, value. example:
  Environment = TimeStamp, 1337012520, ContentType, utf-8
Version
  (single value)
  currently ZeroVM is not backward compatible with the older manifest versions.
  working version is 09082012
Nexe
  (single value)
  NaCl module name to isolate and run
NexeMax
  (single value)
  The size limit for the nexe 
NexeEtag
  (single value)
  reserved
Timeout
  (single value)
  time out in seconds. ZeroVM will stop user program and exit after the specified period
MemMax
  (single value)
  Specifies the memory size in bytes available for the user program. If specified
  ZeroVM will allocate all memory before nexe start and will not use real memory
  allocation syscalls due nexe runtime. MemMax should take in account that 16mb should be
  reserved for the user stack, 1mb+ - for nexe code and data, and some memory for system area
SyscallsMax
  (single value)
  maximum allowed syscalls number (both NaCl and trap)
CommandLine
  (space separated values)
  command line arguments for nexe
NodeName
  (2 comma separated values)
  Specifies the node name (available for the untrusted code) and node id (not available 
  for the untrusted code). The node id should be 32-bit unsigned integer. example:
  loner, 1
  

Both keywords and values have size limit of 64kb. The manifest file size limited
to 0x100000. The limitations can be changed in the future.
 