This document describes API for zerovm NaCl applications
(after review the document should be joined with "api.txt")
---------------------------------------------------------


Description:
valid zerovm NaCl applications must both
- be compiled with Google NaCl SDK
- be compiled for Linux x86_64


Features:
- zerovm NaCl applications are deterministic
- zerovm nacl applications can use only particular system calls (see "syscalls.txt") 
  nevertheless, user can exploit zerovm i/o channels (see "pagination.txt")
- user can allocate RAM using the standard C functonality
- to read a file user can get an input channel from the manifest
- to read/write data to file user can get an output channel from the manifest
- to log some events user can get a userlog channel from the manifest
- user application may redefine trap() function (see "syscallback")
  application can intercept and handle any syscalls by using trap()
- application can get/set variables in the manifest using a special call 
  (see "manifest.txt" for details)
- zerovm limits the use of cputime, number of calls, memory allocation and
  some other system resources available to the application (see "limits.txt")


Channels:
detailed information can be found in api/zvm.h (struct ChannelDesc)


Setup:
Detailed information can be found in api/zvm.h (struct UserManifest)
Please note that some counters are not available for user application.
The number of setup calls may also be limited by zerovm.
User application should allocate buffer equal to size of the setup structure.


Syscallback:
This is a special mechanism which can be used to intercept and handle any system call.
For instance, the user can define her own memory manager or implement a file system

Limits:
- user application is limited by cpu time. The limit can be obtained from the manifest via setup() call
  the counter (currently used cpu time) is not available for user
- application is limited by RAM size. Limit can be read as above. Counter is available
- syscalls are limited. Limit and counter is available by setup()

